---
title: "RSSã‚’å–å¾—ã—ã¦Notionãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸è‡ªå‹•ä¿å­˜(å‰åŠ)"
emoji: "ğŸ•"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["python", "notion"]
published: true
---

### å‰æ›¸ã
Notionã¯è‡ªå·±ç®¡ç†ã‚„ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’çµ„ã‚“ã ã‚Šã€ä»–è€…ã¨è³‡æ–™ã‚’å…±æœ‰ã—ãŸã‚Šã¨

ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã€ä½¿ã„å§‹ã‚ã¦ï¼‘å¹´ãã‚‰ã„çµŒã¡ã¾ã—ãŸã€‚

å®šæœŸçš„ãªã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚„å¤§å‹ã®è³‡é‡‘èª¿é”ã‚‚ã•ã‚ŒãŸãªã©ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‹ã‚‰æ³¨ç›®ã•ã‚Œã‚‹ã§ã‚ã‚ã†ã—

ä»Šå¹´ã‚‚ã‹ãªã‚ŠãŠä¸–è©±ã«ãªã£ã¦ã„ãã ã‚ã†ãªã¨æ„Ÿã˜ã¦ã¾ã™ã€‚

[NotionAPI](https://developers.notion.com)ãŒè©¦é¨“çš„ã«å°å…¥ã•ã‚ŒãŸã®ã¯å»å¹´ã®å¤§ããªå‡ºæ¥äº‹ã§

snsã§ã‚‚å–œã³ã¨æœŸå¾…ã®å£°ãŒå¤šãä¸ŠãŒã£ã¦ã„ãŸã¨è¦šãˆã¦ã„ã¾ã™ã€‚

ã„ã‚ã‚“ãªè¨˜äº‹ã‚’å‚è€ƒã«ã•ã›ã¦ã‚‚ã‚‰ã£ã¦ã„ã¾ã™ã®ã§

è‡ªåˆ†ã§ã‚‚ã“ã‚“ãªã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã‚ˆã€ã¨ã„ã†å ±å‘Šã§ã¤ã‚‰ã¤ã‚‰æ›¸ã„ã¦ã„ã“ã†ã¨ç­†ã‚’å–ã‚Šã¾ã—ãŸã€‚

è‡³ã£ã¦ã‚·ãƒ³ãƒ—ãƒ«ãªè¨˜äº‹ã§ã™ã®ã§ã‹ã‚‹ãƒ¼ãèª­ã¿æµã—ã¦ã€ã¡ã‚‡ã£ã¨ã§ã‚‚ç”Ÿæ´»ã®ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã«ãªã‚Œã°å¬‰ã—ã„ã§ã™ã€‚

:::message
ç­†è€…ã¯è·æ¥­ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã¯ã‚ã‚Šã¾ã›ã‚“
:::

## è¨˜äº‹ã®ãã£ã‹ã‘

è±Šå¯Œãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å…¨éƒ¨Noitonã§ä¸€æ‹¬ç®¡ç†ã—ãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚

GoogleSpreadsheetã‚„pdf,imageã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§åŸ‹ã‚è¾¼ã¿ãŒã§ã

[apption.co](apption.co/)ã‚„[automate.co](https://automate.io)ã€[pipedream](https://pipedream.com/)ãªã©ã‚’ä½¿ãˆã°æ´»ç”¨ã®å¹…ã¯åºƒãŒã‚Šã¾ã™ã€‚

RSSã§æƒ…å ±ç™ºä¿¡ã‚’ã—ã¦ã„ã‚‹ä¼æ¥­ã‚‚ã¾ã å¤šã„ã®ã§ä¸Šè¨˜ã®ã‚ªãƒ¼ãƒˆãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦

Notionã¸æƒ…å ±ã‚’æºœã‚ã¦ã„ãã“ã¨ã¯ã§ããã†ã§ã™ã€‚

æ–¹æ³•ã¯è‰²ã€…ã‚ã‚‹ã‚“ã§ã™ãŒã€ä»Šå›ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«é€²ã‚ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚

GCPã§ã®å®šæœŸå®Ÿè¡Œã¾ã§æ›¸ãã¨ãƒœãƒªãƒ¥ãƒ¼ãƒ å¤šã™ãã‚‹ã®ã§ã€å‰åŠã¨å¾ŒåŠã«åˆ†ã‘ã¦æ›¸ãã¾ã™ã€‚

## è¨˜äº‹ã®å†…å®¹

A. [RSSæƒ…å ±ã‚’pythonã§å–å¾—ã—ã€](#RSSæƒ…å ±ã‚’pythonã§å–å¾—)
B. [NotionAPIã‚’é€šã—ã¦notionã¸ä¿å­˜](#NotionAPIã‚’é€šã—ã¦notionã¸ä¿å­˜)
C. [pythonã‚³ãƒ¼ãƒ‰ã‚’GCPã§å®šæœŸå®Ÿè¡Œã•ã›ã‚‹](#pythonã‚³ãƒ¼ãƒ‰ã‚’GCPã§å®šæœŸå®Ÿè¡Œ)

### é–‹ç™ºç’°å¢ƒ
```mermaid
graph TB
    ID0>M1mac]
    ID1>Python 3.8.9]
    ID2>Vscode]
    ID3>GCPã‚¢ã‚«ã‚¦ãƒ³ãƒˆ]
    ID4>Notionã‚¢ã‚«ã‚¦ãƒ³ãƒˆ]
```

ã§ãã‚‹ã ã‘ä¸å¯§ã«ã‚ã‹ã‚Šã‚„ã™ãæ›¸ã“ã†ã¨æ€ã„ã¾ã™ã®ã§é•·æ–‡ã«ãªã‚Šã¾ã™ãŒã”äº†æ‰¿ãã ã•ã„ã€‚

ã§ã¯ã€å‚ã‚Šã¾ã—ã‚‡ã†ã€‚

## RSSæƒ…å ±ã‚’pythonã§å–å¾—

::: message
ã™ã§ã«ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã«python3ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å‰æã§é€²ã‚ã¾ã™ã€‚
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãŠå›°ã‚Šã®æ–¹ã¯ã‚°ã‚°ã‚‹ã¨ãŸãã•ã‚“è¨˜äº‹ãŒã‚ã‚Šã¾ã™ã€‚
:::

##### 0. ç©ºã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’ç”¨æ„ã—ã¦ã€ãã‚Œã‚’vscodeã§ç«‹ã¡ä¸Šã’ã¾ã™ã€‚

![image](https://user-images.githubusercontent.com/66988502/150449807-69057f5f-637e-4425-9173-da78f3fcb3ad.png)

##### 1.python ä»®æƒ³ç’°å¢ƒã¨å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç”¨æ„

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã`python3 -m venv venv` ã§ä»®æƒ³ç’°å¢ƒã‚’æº–å‚™ã—ã€`source venv/bin/activate.fish` ã§ä»®æƒ³ç’°å¢ƒã«å…¥ã‚Šã¾ã™ã€‚
ç­†è€…ã®æ™®æ®µä½¿ã„ãŒfishãªã®ã§ã€bashã‚„zshã®å ´åˆã¯`source venv/vin/activate`ã«ã—ã¦ãã ã•ã„ã€‚

main.pyãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-01-21 10 55 59](https://user-images.githubusercontent.com/66988502/150451752-2723490f-edc5-469f-938d-406cc96184e3.png)

`pip install feedparser`ã§rssã‚’ã¤ã‹ã‚€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨
`pip install requests `ã§notionã¸é€šä¿¡ã™ã‚‹ãŸã‚ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
`pip freeze > requirements.txt `ã§requirements.txtã‚’æ›¸ãå‡ºã—ã¾ã™

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-01-21 11 04 41](https://user-images.githubusercontent.com/66988502/150452580-332ee04a-f2a3-49e9-9992-0d49154a2c0f.png)

##### 2.RSSå–å¾—ã‚³ãƒ¼ãƒ‰å®Ÿè£…

ä»Šå›ã¯[ã“ã¡ã‚‰ã®ãƒšãƒ¼ã‚¸](https://59log.com/?func=detail&id=2852)ã®å›½éš›ã‚«ãƒ†ã‚´ãƒªã®RSSã‚’å–å¾—ã—ã¾ã™

ä»–ã®RSSã‚’åˆ©ç”¨ã—ãŸã„å ´åˆã¯urlã‚’å¤‰æ›´ã—ã€è¦ç´ ã‚’ç¢ºèªã—ã¦è¡Œã£ã¦ãã ã•ã„ã€‚

```python
import feedparser

# Googleãƒ‹ãƒ¥ãƒ¼ã‚¹ å›½éš›ã‚«ãƒ†ã‚´ãƒª
url = 'https://news.google.com/rss/topics/CAAqJggKIiBDQkFTRWdvSUwyMHZNRGx1YlY4U0FtcGhHZ0pLVUNnQVAB?hl=ja&gl=JP&ceid=JP:ja'

def job(url):
    elements = feedparser.parse(url)
    for entry in elements.entries:
        print(entry.title)
        print(entry.title_detail)
        print(entry.published)
        print(entry.link)
        break
        
job(url)

```
è¦ç´ ã®ï¼‘ã¤ç›®ã ã‘ã‚ã‹ã‚Œã°è‰¯ã„ã®ã§ã€ä»Šå›ã¯breakã‚’å…¥ã‚Œã¾ã—ãŸã€‚

printã§å‡ºåŠ›ã•ã‚ŒãŸã®ã¯ã“ã¡ã‚‰ã§ã™ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-01-21 12 03 05](https://user-images.githubusercontent.com/66988502/150458354-80f76f1f-3173-4093-b3cd-1abb914b534a.png)

è¦ç´ ã®titleã¨ãƒªãƒ³ã‚¯ã¨æ—¥ä»˜ã‚’Notionã¸é£›ã°ã™ã“ã¨ã«ã—ã¾ã™ã€‚

Notionã¸æ¸¡ã™ãŸã‚ã®æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚

```python
import feedparser

import time
import datetime

# Googleãƒ‹ãƒ¥ãƒ¼ã‚¹ å›½éš›ã‚«ãƒ†ã‚´ãƒª
url = 'https://news.google.com/rss/topics/CAAqJggKIiBDQkFTRWdvSUwyMHZNRGx1YlY4U0FtcGhHZ0pLVUNnQVAB?hl=ja&gl=JP&ceid=JP:ja'

def job(url):
    elements = feedparser.parse(url)
    for entry in elements.entries:
        title = entry.title
        date = entry.published
        date = datetime.datetime.strptime(str(date), '%a, %d %b %Y %H:%M:%S %Z').strftime('%Y-%m-%d %H:%M')
        link  = entry.link       
        addContent(title, date, link)
        time.sleep(1)
        
job(url)

```
ã“ã“ã§ã—ã¦ã„ã‚‹ã“ã¨ã¯rssã§å–å¾—ã—ãŸpublishedã‚’æ—¥ä»˜å‹ã«å¤‰æ›´ã—ã¾ã—ãŸ

ã¾ãŸã€addDontentã¯notionãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«è¿½åŠ ã™ã‚‹é–¢æ•°ã§ã™ãŒã“ã‚Œã‹ã‚‰ä½œæˆã—ã¾ã™

ã“ã“ã¾ã§ãŒrssã‚’å–å¾—ã™ã‚‹ã¾ã§ã®ã‚³ãƒ¼ãƒ‰ã§ã™


## NotionAPIã‚’é€šã—ã¦notionã¸ä¿å­˜

##### 3.NotionAPIã‚’ä½œæˆ

Notionã®APIã‚’ä½¿ã†ãŸã‚ã«ã¯è¨­å®šãŒå¿…è¦ã§ã™ã®ã§ãã‚Œã‚’è¡Œãªã£ã¦ã„ãã¾ã™ã€‚

[Notion](https://www.notion.so/ja-jp/product?utm_source=google&utm_campaign=14877655427&utm_medium=125922091617&utm_content=552465064290&utm_term=notion&targetid=aud-1053779029641:kwd-312974742&gclid=Cj0KCQiAraSPBhDuARIsAM3Js4rnx0GgDGil6EgPEfdsaqoWEaNrj1_bzj4o5RtCUMxNb7uvWMGZctwaAm_iEALw_wcB)ã¯ç„¡æ–™ã§ååˆ†ä½¿ãˆã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãªã®ã§ç§ã‚‚å‘¨ã‚Šã®äººã«ãŠã™ã™ã‚ã—ã¦ã„ã¾ã™ã€‚

NotionAPIã¯[ã“ã¡ã‚‰](https://developers.notion.com)ã‹ã‚‰ç™»éŒ²ã‚’ã—ã¾ã™ã€‚

åˆå›ç™»éŒ²ã«ã¤ã„ã¦ã¯ã‚„ã‚„ã“ã—ã„ç‚¹ãªã©ä½•ã‚‚ãªã„ã®ã§å‰²æ„›ã—ã¾ã™ã€‚

ç™»éŒ²å¾Œã¯å³ä¸Šã«å‡ºã¦ã„ã‚‹ã§ã—ã‚‡ã†My integrationsã‚’ã‚¯ãƒªãƒƒã‚¯ã—ä½œæˆé–‹å§‹ã§ã™ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-01-21 12 47 49](https://user-images.githubusercontent.com/66988502/150462373-cff5ac73-deae-4d69-b85d-97e33c4773e2.png)

è‡ªåˆ†ã®å ´åˆã¯ã™ã§ã«APIã‚’ã„ãã¤ã‹ä½œæˆã—ã¦ã„ã‚‹ã®ã§ã™ãŒåˆå›ã§ã‚ã‚‹ã¨ã¾ã ä½•ã‚‚ãªã„çŠ¶æ…‹ã®ã¯ãšã§ã™ã€‚

**+ New intergration**ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-01-21 12 49 51](https://user-images.githubusercontent.com/66988502/150462688-fd49b640-7d6a-4616-a6f7-780a824e6ebb.png)

å¥½ããªåå‰ã‚’å…¥ã‚Œã¦ã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’å¤‰ãˆãŸã„ã®ã§ã‚ã‚Œã°imageã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚

ä»–ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã®ã¾ã¾ã§ã€ä¸‹ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€submitã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-01-21 12 53 02](https://user-images.githubusercontent.com/66988502/150462795-43059cf5-a4a5-4abd-894b-21eff299b5de.png)

submitå¾Œã®ç”»é¢ã§ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ãŒç™ºè¡Œã•ã‚Œã¾ã™ã€‚

å¾Œã»ã©ä½¿ã„ã¾ã™ã®ã§ã€ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ãªã©ã«ä¿å­˜ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚

ä½™è«‡: [clipy](https://github.com/Clipy/Clipy)ã¯ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã™ã€‚ã‚¹ãƒ‹ãƒšãƒƒãƒˆç™»éŒ²ã‚‚ã§ãã‚‹ã®ã§é‡å®ã—ã¦ã„ã¾ã™ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-01-21 12 55 16](https://user-images.githubusercontent.com/66988502/150463024-18b84bcc-afc5-471e-b16d-f128dfb1e6be.png)

##### 4.Notionãƒšãƒ¼ã‚¸ã‚’ä½œæˆ

rssã‚’ãƒšãƒ¼ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®Notionãƒšãƒ¼ã‚¸ã‚’ä½œæˆã—ã¾ã™

è‡ªåˆ†ã®Notionã®å¥½ããªãƒšãƒ¼ã‚¸ã§`/data`ã¨æ‰“ã¡ã€Table database - Full pageã‚’é¸æŠ

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-01-21 13 01 54](https://user-images.githubusercontent.com/66988502/150463627-71560883-6ce1-4219-852e-48897298eaf9.png)

ã‚¿ã‚¤ãƒˆãƒ«ã¯å¥½ãã«ã¤ã‘ã¦ã‚‚ã‚‰ã£ã¦è‰¯ã„ã§ã™

tableã®headã¯rsså´ã«åˆã‚ã›ã¾ã™

title date link ã®ï¼“ã¤ã®è¦ç´ ã§ã™

title ã¯ **text** date ã¯ **date** link ã¯ **url**

ãã‚Œãã‚Œè¨­å®šã—ã¾ã™ã€‚

Numberã‚„selectã‚‚ã§ãã¾ã™ã€‚ãã®éš›ã¯[ã“ã¡ã‚‰](https://developers.notion.com/reference/database#property-object)ã®å¯¾å¿œè¡¨ã‚’ç¢ºèªã—ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ãã ã•ã„ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-01-21 13 08 13](https://user-images.githubusercontent.com/66988502/150464142-e74303b1-7ccf-4a75-b067-f20682281b5f.png)

å³ä¸Šã®ãƒ»ãƒ»ãƒ»ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€copy linkã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

ã¾ãŸã¯ã€webãƒ–ãƒ©ã‚¦ã‚¶ã§Notionã‚’é–‹ã„ã¦ã„ã‚‹å ´åˆã¯ãã®urlã‚’ã‚³ãƒ”ãƒ¼ã€ã‚‚ã—ãã¯å³ä¸Šã®shareã‚’æŠ¼ã—ã¦copy linkã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-01-21 13 11 00](https://user-images.githubusercontent.com/66988502/150464379-76cd784d-1b04-4ac0-93e6-e55a6b3008a6.png)

ã™ã‚‹ã¨ä¸‹ã®ã‚ˆã†ã«ã¨ã‚Œã‚‹ã¨æ€ã„ã¾ã™ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-01-21 13 15 44](https://user-images.githubusercontent.com/66988502/150465489-a3dc85fd-d972-492b-978b-a6cba8b44b3a.png)

https://www.notion.so/ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå/{**è‹±æ•°å­—**}?v=============

èµ¤ç·šã‚’å¼•ã„ãŸè‹±æ•°å­—ã®éƒ¨åˆ†ãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹IDã¨ãªã‚Šã¾ã™ã®ã§ã“ã“ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãŠãã¾ã™ã€‚


##### 5.ä½œæˆã—ãŸAPIã¨notionãƒšãƒ¼ã‚¸ã‚’é€£æºã—ã¾ã—ã‚‡ã†

notionãƒšãƒ¼ã‚¸ã®shareã‹ã‚‰inviteã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€ä½œæˆã—ãŸAPIã‚’è¿½åŠ ã—ã¾ã™

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-01-21 13 58 19](https://user-images.githubusercontent.com/66988502/150468829-1a58f50c-e55f-45bd-a05b-185d1cbf4719.png)

ã“ã‚Œã§Notionã®è¨­å®šã¯çµ‚ã‚ã‚Šã§ã™ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-01-21 14 01 37](https://user-images.githubusercontent.com/66988502/150468946-7670a58b-10fc-4cff-b4f2-d027b219bc1c.png)


##### 6.Notionã¸pushã™ã‚‹ã‚³ãƒ¼ãƒ‰

ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¸ã“ã‚Œã¾ã§ã«ç²å¾—ã—ãŸ**ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³**ã¨**ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ID**ã‚’è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚

å¼•æ•°ã‚’ãƒªãƒ†ãƒ©ãƒ«ã«æ›¸ã„ãŸãƒ†ã‚¹ãƒˆé–¢æ•°ã‚’å®Ÿè¡Œã•ã›ã¦ã¿ã¾ã™

```python

import requests, json

def addContent(title, date, link):
    
    token = 'ä½œæˆã—ãŸã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„'
    databaseId = 'å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹IDã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„'
    
    headers = {
        "Authorization": "Bearer " + token,
        "Content-Type": "application/json",
        "Notion-Version": "2021-05-13"
    }

    notionUrl = 'https://api.notion.com/v1/pages'
    addData = {
        "parent": { "database_id": databaseId },
        "properties": {
            "title": {
                "title": [
                    {
                        "text": {
                            "content": title
                        }
                    }
                ]
            },
            "date": {
                "date": 
                    {
                        "start": date
                        }
            },
            "link" : {
                "url": link
            }
    }
    }
    
    data = json.dumps(addData)

    response = requests.request("POST", notionUrl, headers=headers, data=data)
    print(response)

addContent('ãƒ†ã‚¹ãƒˆé–¢æ•°ã§ã™', '2022-01-21 17:12', 'https:www')

```
`addContent('ãƒ†ã‚¹ãƒˆé–¢æ•°ã§ã™', '2022-01-21 17:12', 'https:www')`ã®çµæœ

Notionã¸æŠ•ç¨¿ã•ã‚Œã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã—ãŸã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-01-21 14 08 11](https://user-images.githubusercontent.com/66988502/150469491-83414e55-05d2-4e68-9d1f-af69ccdbec99.png)

å°‘ã—ä¿®æ­£ã‚’åŠ ãˆã¦ä¸‹è¨˜ãŒä»Šå›å®Ÿè£…ã™ã‚‹ã‚³ãƒ¼ãƒ‰å…¨æ–‡ã§ã™ã€‚

ä¾‹ã®ã”ã¨ãã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹IDã®è²¼ã‚Šä»˜ã‘ã¯å„è‡ªã§ãŠé¡˜ã„ã—ã¾ã™ã€‚

```python
import feedparser
import requests, json

import time
import datetime


def addContent(title, date, link):
    
    token = 'ä½œæˆã—ãŸã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„'
    databaseId = 'å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹IDã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„'

    headers = {
        "Authorization": "Bearer " + token,
        "Content-Type": "application/json",
        "Notion-Version": "2021-05-13"
    }
    notionUrl = 'https://api.notion.com/v1/pages'
    addData = {
        "parent": { "database_id": databaseId },
        "properties": {
            "title": {
                "title": [
                    {
                        "text": {
                            "content": title
                        }
                    }
                ]
            },
            "date": {
                "date": 
                    {
                        "start": date
                        }
            },
            "link" : {
                "url": link
            }
    }
    }
    
    data = json.dumps(addData)

    response = requests.request("POST", notionUrl, headers=headers, data=data)
    print(response)
# Googleãƒ‹ãƒ¥ãƒ¼ã‚¹ å›½éš›ã‚«ãƒ†ã‚´ãƒª
url = 'https://news.google.com/rss/topics/CAAqJggKIiBDQkFTRWdvSUwyMHZNRGx1YlY4U0FtcGhHZ0pLVUNnQVAB?hl=ja&gl=JP&ceid=JP:ja'

def job(url):
    elements = feedparser.parse(url)

    for entry in elements.entries:
        title = entry.title
        date = entry.published
        date = datetime.datetime.strptime(str(date), '%a, %d %b %Y %H:%M:%S %Z').strftime('%Y-%m-%d %H:%M')
        link  = entry.link       
        addContent(title, date, link)
        time.sleep(1)
        
job(url)

```
å®Ÿè¡Œçµæœã¯ã–ã£ã¨60è¡Œãã‚‰ã„ã®ãƒ‡ãƒ¼ã‚¿ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-01-21 14 59 19](https://user-images.githubusercontent.com/66988502/150474339-7ad83311-ed7a-458f-88d1-73780ff6d532.png)


ã“ã“ã¾ã§ã§ã€ã‹ãªã‚Šæ´»ç”¨ã®å¹…ãŒåºƒãŒã‚Šãã†ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚

ã“ã‚Œã¯å˜ç´”ãªã‚³ãƒ¼ãƒ‰ã§ã™ãŒè‰²ã€…ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚’è¦‹è¾¼ã‚ã¦æ¥½ã—ã„ã¨æ€ã„ã¾ã™ã€‚

å®šæœŸå®Ÿè¡Œã®ä»•æ–¹ã«ãªã‚Šã¾ã™ãŒã€ã¡ã‚‡ã£ã¨é•·ããªã‚Šã™ããŸã®ã§ã“ã“ã§çµ‚äº†ã¨ã—ã¾ã™ã€‚

æœ€å¾Œã¾ã§ãŠä»˜ãåˆã„ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚

## pythonã‚³ãƒ¼ãƒ‰ã‚’GCPã§å®šæœŸå®Ÿè¡Œ

...to be continued